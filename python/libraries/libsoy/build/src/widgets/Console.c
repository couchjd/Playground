/* Console.c generated by valac 0.22.1, the Vala compiler
 * generated from Console.gs, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gee.h>
#include <stdlib.h>
#include <string.h>
#include <cairo.h>
#include <float.h>
#include <math.h>


#define SOY_WIDGETS_TYPE_WIDGET (soy_widgets_widget_get_type ())
#define SOY_WIDGETS_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidget))
#define SOY_WIDGETS_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidgetClass))
#define SOY_WIDGETS_IS_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_WIDGET))
#define SOY_WIDGETS_IS_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_WIDGET))
#define SOY_WIDGETS_WIDGET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidgetClass))

typedef struct _soywidgetsWidget soywidgetsWidget;
typedef struct _soywidgetsWidgetClass soywidgetsWidgetClass;
typedef struct _soywidgetsWidgetPrivate soywidgetsWidgetPrivate;

#define SOY_WIDGETS_TYPE_CONTAINER (soy_widgets_container_get_type ())
#define SOY_WIDGETS_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainer))
#define SOY_WIDGETS_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainerClass))
#define SOY_WIDGETS_IS_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_CONTAINER))
#define SOY_WIDGETS_IS_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_CONTAINER))
#define SOY_WIDGETS_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainerClass))

typedef struct _soywidgetsContainer soywidgetsContainer;
typedef struct _soywidgetsContainerClass soywidgetsContainerClass;

#define SOY_WIDGETS_TYPE_CONSOLE (soy_widgets_console_get_type ())
#define SOY_WIDGETS_CONSOLE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_CONSOLE, soywidgetsConsole))
#define SOY_WIDGETS_CONSOLE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_CONSOLE, soywidgetsConsoleClass))
#define SOY_WIDGETS_IS_CONSOLE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_CONSOLE))
#define SOY_WIDGETS_IS_CONSOLE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_CONSOLE))
#define SOY_WIDGETS_CONSOLE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_CONSOLE, soywidgetsConsoleClass))

typedef struct _soywidgetsConsole soywidgetsConsole;
typedef struct _soywidgetsConsoleClass soywidgetsConsoleClass;
typedef struct _soywidgetsConsolePrivate soywidgetsConsolePrivate;

#define SOY_WIDGETS_TYPE_CANVAS (soy_widgets_canvas_get_type ())
#define SOY_WIDGETS_CANVAS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_CANVAS, soywidgetsCanvas))
#define SOY_WIDGETS_CANVAS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_CANVAS, soywidgetsCanvasClass))
#define SOY_WIDGETS_IS_CANVAS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_CANVAS))
#define SOY_WIDGETS_IS_CANVAS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_CANVAS))
#define SOY_WIDGETS_CANVAS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_CANVAS, soywidgetsCanvasClass))

typedef struct _soywidgetsCanvas soywidgetsCanvas;
typedef struct _soywidgetsCanvasClass soywidgetsCanvasClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_io_channel_unref0(var) ((var == NULL) ? NULL : (var = (g_io_channel_unref (var), NULL)))

#define SOY_TEXTURES_TYPE_TEXTURE (soy_textures_texture_get_type ())
#define SOY_TEXTURES_TEXTURE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_TEXTURES_TYPE_TEXTURE, soytexturesTexture))
#define SOY_TEXTURES_TEXTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_TEXTURES_TYPE_TEXTURE, soytexturesTextureClass))
#define SOY_TEXTURES_IS_TEXTURE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_TEXTURES_TYPE_TEXTURE))
#define SOY_TEXTURES_IS_TEXTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_TEXTURES_TYPE_TEXTURE))
#define SOY_TEXTURES_TEXTURE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_TEXTURES_TYPE_TEXTURE, soytexturesTextureClass))

typedef struct _soytexturesTexture soytexturesTexture;
typedef struct _soytexturesTextureClass soytexturesTextureClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _cairo_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_destroy (var), NULL)))
#define _cairo_surface_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_surface_destroy (var), NULL)))

struct _soywidgetsWidget {
	GObject parent_instance;
	soywidgetsWidgetPrivate * priv;
	gint width;
	gint height;
	gboolean resized;
};

struct _soywidgetsWidgetClass {
	GObjectClass parent_class;
	void (*add) (soywidgetsWidget* self, soywidgetsContainer* parent);
	void (*remove) (soywidgetsWidget* self);
	void (*render) (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
	void (*resize) (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
};

struct _soywidgetsConsole {
	soywidgetsWidget parent_instance;
	soywidgetsConsolePrivate * priv;
	GeeArrayList* io;
	soywidgetsCanvas* canvas;
	gint standard_output;
	gint standard_error;
	gchar* command;
	gchar* working_directory;
	gint child_pid;
	GIOChannel* output;
	GIOChannel* error;
};

struct _soywidgetsConsoleClass {
	soywidgetsWidgetClass parent_class;
};


static gpointer soy_widgets_console_parent_class = NULL;

GType soy_widgets_widget_get_type (void) G_GNUC_CONST;
GType soy_widgets_container_get_type (void) G_GNUC_CONST;
GType soy_widgets_console_get_type (void) G_GNUC_CONST;
GType soy_widgets_canvas_get_type (void) G_GNUC_CONST;
enum  {
	SOY_WIDGETS_CONSOLE_DUMMY_PROPERTY
};
soywidgetsConsole* soy_widgets_console_new (const gchar* working_directory, const gchar* command);
soywidgetsConsole* soy_widgets_console_construct (GType object_type, const gchar* working_directory, const gchar* command);
soywidgetsWidget* soy_widgets_widget_new (void);
soywidgetsWidget* soy_widgets_widget_construct (GType object_type);
static void soy_widgets_console_real_add (soywidgetsWidget* base, soywidgetsContainer* parent);
GType soy_textures_texture_get_type (void) G_GNUC_CONST;
soywidgetsCanvas* soy_widgets_canvas_new (soytexturesTexture* texture);
soywidgetsCanvas* soy_widgets_canvas_construct (GType object_type, soytexturesTexture* texture);
static void soy_widgets_console_real_remove (soywidgetsWidget* base);
static void soy_widgets_console_real_render (soywidgetsWidget* base, gint x, gint y, gint width, gint height);
void soy_widgets_console_renderText (soywidgetsConsole* self, gint x, gint y, gint width, gint height);
static void soy_widgets_console_real_resize (soywidgetsWidget* base, gint x, gint y, gint width, gint height);
void soy_widgets_widget_resize (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
soytexturesTexture* soy_textures_texture_new (void);
soytexturesTexture* soy_textures_texture_construct (GType object_type);
void soy_textures_texture_copySurface (soytexturesTexture* self, cairo_surface_t* surface);
void soy_widgets_canvas_set_texture (soywidgetsCanvas* self, soytexturesTexture* value);
void soy_widgets_widget_render (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
static void soy_widgets_console_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


soywidgetsConsole* soy_widgets_console_construct (GType object_type, const gchar* working_directory, const gchar* command) {
	soywidgetsConsole * self = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GeeArrayList* _tmp4_ = NULL;
#line 18 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = (soywidgetsConsole*) soy_widgets_widget_construct (object_type);
#line 19 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp0_ = command;
#line 19 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp1_ = g_strdup (_tmp0_);
#line 19 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (self->command);
#line 19 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self->command = _tmp1_;
#line 20 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp2_ = working_directory;
#line 20 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp3_ = g_strdup (_tmp2_);
#line 20 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (self->working_directory);
#line 20 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self->working_directory = _tmp3_;
#line 21 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp4_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
#line 21 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_object_unref0 (self->io);
#line 21 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self->io = _tmp4_;
#line 18 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	return self;
#line 175 "Console.c"
}


soywidgetsConsole* soy_widgets_console_new (const gchar* working_directory, const gchar* command) {
#line 18 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	return soy_widgets_console_construct (SOY_WIDGETS_TYPE_CONSOLE, working_directory, command);
#line 182 "Console.c"
}


static void soy_widgets_console_real_add (soywidgetsWidget* base, soywidgetsContainer* parent) {
	soywidgetsConsole * self;
	gchar** spawn_args = NULL;
	const gchar* _tmp0_ = NULL;
	gchar** _tmp1_ = NULL;
	gchar** _tmp2_ = NULL;
	gint spawn_args_length1 = 0;
	gint _spawn_args_size_ = 0;
	gchar** spawn_env = NULL;
	gchar** _tmp3_ = NULL;
	gchar** _tmp4_ = NULL;
	gint spawn_env_length1 = 0;
	gint _spawn_env_size_ = 0;
	GError * _inner_error_ = NULL;
#line 23 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = (soywidgetsConsole*) base;
#line 23 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	g_return_if_fail (parent != NULL);
#line 24 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp0_ = self->command;
#line 24 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp2_ = _tmp1_ = g_strsplit (_tmp0_, " ", 0);
#line 24 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_args = _tmp2_;
#line 24 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_args_length1 = _vala_array_length (_tmp1_);
#line 24 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_spawn_args_size_ = spawn_args_length1;
#line 25 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp4_ = _tmp3_ = g_get_environ ();
#line 25 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_env = _tmp4_;
#line 25 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_env_length1 = _vala_array_length (_tmp3_);
#line 25 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_spawn_env_size_ = spawn_env_length1;
#line 222 "Console.c"
	{
		const gchar* _tmp5_ = NULL;
		GPid _tmp6_ = 0;
		gint _tmp7_ = 0;
		gint _tmp8_ = 0;
		gint _tmp9_ = 0;
		GIOChannel* _tmp10_ = NULL;
		gint _tmp11_ = 0;
		GIOChannel* _tmp12_ = NULL;
		soywidgetsCanvas* _tmp13_ = NULL;
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp5_ = self->working_directory;
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_spawn_async_with_pipes (_tmp5_, spawn_args, spawn_env, G_SPAWN_SEARCH_PATH | G_SPAWN_DO_NOT_REAP_CHILD, NULL, NULL, &_tmp6_, NULL, &_tmp7_, &_tmp8_, &_inner_error_);
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->child_pid = (gint) _tmp6_;
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->standard_output = _tmp7_;
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->standard_error = _tmp8_;
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		if (_inner_error_ != NULL) {
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			if (_inner_error_->domain == G_SPAWN_ERROR) {
#line 247 "Console.c"
				goto __catch10_g_spawn_error;
			}
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			spawn_env = (_vala_array_free (spawn_env, spawn_env_length1, (GDestroyNotify) g_free), NULL);
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			spawn_args = (_vala_array_free (spawn_args, spawn_args_length1, (GDestroyNotify) g_free), NULL);
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			g_clear_error (&_inner_error_);
#line 27 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			return;
#line 260 "Console.c"
		}
#line 36 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp9_ = self->standard_output;
#line 36 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp10_ = g_io_channel_unix_new (_tmp9_);
#line 36 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_io_channel_unref0 (self->output);
#line 36 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->output = _tmp10_;
#line 38 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp11_ = self->standard_error;
#line 38 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp12_ = g_io_channel_unix_new (_tmp11_);
#line 38 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_io_channel_unref0 (self->error);
#line 38 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->error = _tmp12_;
#line 40 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp13_ = soy_widgets_canvas_new (NULL);
#line 40 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_object_unref0 (self->canvas);
#line 40 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		self->canvas = _tmp13_;
#line 284 "Console.c"
	}
	goto __finally10;
	__catch10_g_spawn_error:
	{
		GError* e = NULL;
		GError* _tmp14_ = NULL;
		const gchar* _tmp15_ = NULL;
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		e = _inner_error_;
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_inner_error_ = NULL;
#line 42 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp14_ = e;
#line 42 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp15_ = _tmp14_->message;
#line 42 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_print ("%s\n\n", _tmp15_);
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_error_free0 (e);
#line 304 "Console.c"
	}
	__finally10:
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	if (_inner_error_ != NULL) {
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		spawn_env = (_vala_array_free (spawn_env, spawn_env_length1, (GDestroyNotify) g_free), NULL);
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		spawn_args = (_vala_array_free (spawn_args, spawn_args_length1, (GDestroyNotify) g_free), NULL);
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_clear_error (&_inner_error_);
#line 26 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		return;
#line 319 "Console.c"
	}
#line 23 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_env = (_vala_array_free (spawn_env, spawn_env_length1, (GDestroyNotify) g_free), NULL);
#line 23 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	spawn_args = (_vala_array_free (spawn_args, spawn_args_length1, (GDestroyNotify) g_free), NULL);
#line 325 "Console.c"
}


static void soy_widgets_console_real_remove (soywidgetsWidget* base) {
	soywidgetsConsole * self;
#line 44 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = (soywidgetsConsole*) base;
#line 45 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	return;
#line 335 "Console.c"
}


static void soy_widgets_console_real_render (soywidgetsWidget* base, gint x, gint y, gint width, gint height) {
	soywidgetsConsole * self;
	gsize length = 0UL;
	gchar* text = NULL;
	GIOChannel* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gsize _tmp2_ = 0UL;
	GeeArrayList* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	GError * _inner_error_ = NULL;
#line 47 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = (soywidgetsConsole*) base;
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp0_ = self->output;
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	g_io_channel_read_line (_tmp0_, &_tmp1_, &_tmp2_, NULL, &_inner_error_);
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (text);
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	text = _tmp1_;
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	length = _tmp2_;
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	if (_inner_error_ != NULL) {
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_free0 (text);
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		g_clear_error (&_inner_error_);
#line 50 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		return;
#line 374 "Console.c"
	}
#line 51 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp3_ = self->io;
#line 51 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	gee_abstract_collection_add ((GeeAbstractCollection*) _tmp3_, text);
#line 52 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp4_ = x;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp5_ = y;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp6_ = width;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp7_ = height;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_widgets_console_renderText (self, _tmp4_, _tmp5_, _tmp6_, _tmp7_);
#line 47 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (text);
#line 392 "Console.c"
}


static void soy_widgets_console_real_resize (soywidgetsWidget* base, gint x, gint y, gint width, gint height) {
	soywidgetsConsole * self;
	soywidgetsCanvas* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
#line 54 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = (soywidgetsConsole*) base;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp0_ = self->canvas;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp1_ = x;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp2_ = y;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp3_ = width;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp4_ = height;
#line 55 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_widgets_widget_resize ((soywidgetsWidget*) _tmp0_, _tmp1_, _tmp2_, _tmp3_, _tmp4_);
#line 417 "Console.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	return self ? g_object_ref (self) : NULL;
#line 424 "Console.c"
}


void soy_widgets_console_renderText (soywidgetsConsole* self, gint x, gint y, gint width, gint height) {
	cairo_surface_t* surface = NULL;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	cairo_surface_t* _tmp2_ = NULL;
	cairo_t* context = NULL;
	cairo_surface_t* _tmp3_ = NULL;
	cairo_t* _tmp4_ = NULL;
	cairo_t* _tmp5_ = NULL;
	cairo_t* _tmp6_ = NULL;
	cairo_t* _tmp7_ = NULL;
	cairo_t* _tmp8_ = NULL;
	soytexturesTexture* texture = NULL;
	soytexturesTexture* _tmp27_ = NULL;
	cairo_surface_t* _tmp28_ = NULL;
	soywidgetsCanvas* _tmp29_ = NULL;
	soywidgetsCanvas* _tmp30_ = NULL;
	gint _tmp31_ = 0;
	gint _tmp32_ = 0;
	gint _tmp33_ = 0;
	gint _tmp34_ = 0;
#line 57 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	g_return_if_fail (self != NULL);
#line 58 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp0_ = width;
#line 58 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp1_ = height;
#line 58 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp2_ = cairo_image_surface_create (CAIRO_FORMAT_ARGB32, _tmp0_, _tmp1_);
#line 58 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	surface = _tmp2_;
#line 59 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp3_ = surface;
#line 59 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp4_ = cairo_create (_tmp3_);
#line 59 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	context = _tmp4_;
#line 60 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp5_ = context;
#line 60 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	cairo_set_source_rgb (_tmp5_, (gdouble) 1, (gdouble) 1, (gdouble) 1);
#line 61 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp6_ = context;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	cairo_select_font_face (_tmp6_, "Courier", CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);
#line 62 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp7_ = context;
#line 62 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	cairo_set_font_size (_tmp7_, (gdouble) 14);
#line 63 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp8_ = context;
#line 63 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	cairo_move_to (_tmp8_, (gdouble) 0, (gdouble) 0);
#line 481 "Console.c"
	{
		GeeArrayList* _s_list = NULL;
		GeeArrayList* _tmp9_ = NULL;
		GeeArrayList* _tmp10_ = NULL;
		gint _s_size = 0;
		GeeArrayList* _tmp11_ = NULL;
		gint _tmp12_ = 0;
		gint _tmp13_ = 0;
		gint _s_index = 0;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp9_ = self->io;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp10_ = _g_object_ref0 (_tmp9_);
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_s_list = _tmp10_;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp11_ = _s_list;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp12_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp11_);
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_tmp13_ = _tmp12_;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_s_size = _tmp13_;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_s_index = -1;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		while (TRUE) {
#line 509 "Console.c"
			gint _tmp14_ = 0;
			gint _tmp15_ = 0;
			gint _tmp16_ = 0;
			gchar* s = NULL;
			GeeArrayList* _tmp17_ = NULL;
			gint _tmp18_ = 0;
			gpointer _tmp19_ = NULL;
			gdouble xd = 0.0;
			gdouble yd = 0.0;
			cairo_t* _tmp20_ = NULL;
			gdouble _tmp21_ = 0.0;
			gdouble _tmp22_ = 0.0;
			cairo_t* _tmp23_ = NULL;
			gdouble _tmp24_ = 0.0;
			cairo_t* _tmp25_ = NULL;
			const gchar* _tmp26_ = NULL;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp14_ = _s_index;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_s_index = _tmp14_ + 1;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp15_ = _s_index;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp16_ = _s_size;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			if (!(_tmp15_ < _tmp16_)) {
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
				break;
#line 538 "Console.c"
			}
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp17_ = _s_list;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp18_ = _s_index;
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp19_ = gee_abstract_list_get ((GeeAbstractList*) _tmp17_, _tmp18_);
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			s = (gchar*) _tmp19_;
#line 67 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp20_ = context;
#line 67 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			cairo_get_current_point (_tmp20_, &_tmp21_, &_tmp22_);
#line 67 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			xd = _tmp21_;
#line 67 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			yd = _tmp22_;
#line 68 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp23_ = context;
#line 68 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp24_ = xd;
#line 68 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			cairo_rel_move_to (_tmp23_, -_tmp24_, (gdouble) 14);
#line 69 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp25_ = context;
#line 69 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_tmp26_ = s;
#line 69 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			cairo_show_text (_tmp25_, _tmp26_);
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
			_g_free0 (s);
#line 570 "Console.c"
		}
#line 64 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
		_g_object_unref0 (_s_list);
#line 574 "Console.c"
	}
#line 70 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp27_ = soy_textures_texture_new ();
#line 70 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	texture = _tmp27_;
#line 71 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp28_ = surface;
#line 71 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_textures_texture_copySurface (texture, _tmp28_);
#line 72 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp29_ = self->canvas;
#line 72 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_widgets_canvas_set_texture (_tmp29_, texture);
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp30_ = self->canvas;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp31_ = x;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp32_ = y;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp33_ = width;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_tmp34_ = height;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_widgets_widget_render ((soywidgetsWidget*) _tmp30_, _tmp31_, _tmp32_, _tmp33_, _tmp34_);
#line 57 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_object_unref0 (texture);
#line 57 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_cairo_destroy0 (context);
#line 57 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_cairo_surface_destroy0 (surface);
#line 606 "Console.c"
}


static void soy_widgets_console_class_init (soywidgetsConsoleClass * klass) {
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	soy_widgets_console_parent_class = g_type_class_peek_parent (klass);
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	SOY_WIDGETS_WIDGET_CLASS (klass)->add = soy_widgets_console_real_add;
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	SOY_WIDGETS_WIDGET_CLASS (klass)->remove = soy_widgets_console_real_remove;
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	SOY_WIDGETS_WIDGET_CLASS (klass)->render = soy_widgets_console_real_render;
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	SOY_WIDGETS_WIDGET_CLASS (klass)->resize = soy_widgets_console_real_resize;
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	G_OBJECT_CLASS (klass)->finalize = soy_widgets_console_finalize;
#line 623 "Console.c"
}


static void soy_widgets_console_instance_init (soywidgetsConsole * self) {
}


static void soy_widgets_console_finalize (GObject* obj) {
	soywidgetsConsole * self;
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_WIDGETS_TYPE_CONSOLE, soywidgetsConsole);
#line 8 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_object_unref0 (self->io);
#line 9 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_object_unref0 (self->canvas);
#line 12 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (self->command);
#line 13 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_free0 (self->working_directory);
#line 15 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_io_channel_unref0 (self->output);
#line 16 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	_g_io_channel_unref0 (self->error);
#line 7 "/home/jeff/Documents/libraries/libsoy/src/widgets/Console.gs"
	G_OBJECT_CLASS (soy_widgets_console_parent_class)->finalize (obj);
#line 649 "Console.c"
}


GType soy_widgets_console_get_type (void) {
	static volatile gsize soy_widgets_console_type_id__volatile = 0;
	if (g_once_init_enter (&soy_widgets_console_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soywidgetsConsoleClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_widgets_console_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soywidgetsConsole), 0, (GInstanceInitFunc) soy_widgets_console_instance_init, NULL };
		GType soy_widgets_console_type_id;
		soy_widgets_console_type_id = g_type_register_static (SOY_WIDGETS_TYPE_WIDGET, "soywidgetsConsole", &g_define_type_info, 0);
		g_once_init_leave (&soy_widgets_console_type_id__volatile, soy_widgets_console_type_id);
	}
	return soy_widgets_console_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



