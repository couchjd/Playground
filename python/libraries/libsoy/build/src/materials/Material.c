/* Material.c generated by valac 0.22.1, the Vala compiler
 * generated from Material.gs, do not modify */

/*
 *  libsoy - soy.materials.Material
 *  Copyright (C) 2006-2014 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <GLES2/gl2.h>
#include <GLES2/gl2ext.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>


#define SOY_MATERIALS_TYPE_MATERIAL (soy_materials_material_get_type ())
#define SOY_MATERIALS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial))
#define SOY_MATERIALS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))
#define SOY_MATERIALS_IS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_IS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_MATERIAL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))

typedef struct _soymaterialsMaterial soymaterialsMaterial;
typedef struct _soymaterialsMaterialClass soymaterialsMaterialClass;
typedef struct _soymaterialsMaterialPrivate soymaterialsMaterialPrivate;

#define SOY_BODIES_TYPE_BODY (soy_bodies_body_get_type ())
#define SOY_BODIES_BODY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_BODY, soybodiesBody))
#define SOY_BODIES_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))
#define SOY_BODIES_IS_BODY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_IS_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_BODY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))

typedef struct _soybodiesBody soybodiesBody;
typedef struct _soybodiesBodyClass soybodiesBodyClass;

#define SOY_BODIES_TYPE_LIGHT (soy_bodies_light_get_type ())
#define SOY_BODIES_LIGHT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_LIGHT, soybodiesLight))
#define SOY_BODIES_LIGHT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_LIGHT, soybodiesLightClass))
#define SOY_BODIES_IS_LIGHT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_LIGHT))
#define SOY_BODIES_IS_LIGHT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_LIGHT))
#define SOY_BODIES_LIGHT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_LIGHT, soybodiesLightClass))

typedef struct _soybodiesLight soybodiesLight;
typedef struct _soybodiesLightClass soybodiesLightClass;

#define SOY_ATOMS_TYPE_COLOR (soy_atoms_color_get_type ())
#define SOY_ATOMS_COLOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_COLOR, soyatomsColor))
#define SOY_ATOMS_COLOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_COLOR, soyatomsColorClass))
#define SOY_ATOMS_IS_COLOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_COLOR))
#define SOY_ATOMS_IS_COLOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_COLOR))
#define SOY_ATOMS_COLOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_COLOR, soyatomsColorClass))

typedef struct _soyatomsColor soyatomsColor;
typedef struct _soyatomsColorClass soyatomsColorClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _soymaterialsMaterial {
	GObject parent_instance;
	soymaterialsMaterialPrivate * priv;
	gboolean translucent;
	GLenum draw_mode;
};

struct _soymaterialsMaterialClass {
	GObjectClass parent_class;
	gboolean (*enable) (soymaterialsMaterial* self, gint pass, GLfloat* mv, int mv_length1, GLfloat* v, int v_length1, GLfloat* p, int p_length1, soybodiesLight** lights, int lights_length1, GLfloat* scene_ambient, int scene_ambient_length1);
	void (*disable) (soymaterialsMaterial* self);
};


static gpointer soy_materials_material_parent_class = NULL;
extern gchar* soy_materials_material_basic_glslv;
extern gchar* soy_materials_material_basic_glslf;
static GLuint soy_materials_material__vertex_shader;
static GLuint soy_materials_material__vertex_shader = 0U;
static GLuint soy_materials_material__fragment_shader;
static GLuint soy_materials_material__fragment_shader = 0U;
static GLuint soy_materials_material__program;
static GLuint soy_materials_material__program = 0U;

GType soy_materials_material_get_type (void) G_GNUC_CONST;
GType soy_bodies_body_get_type (void) G_GNUC_CONST;
GType soy_bodies_light_get_type (void) G_GNUC_CONST;
enum  {
	SOY_MATERIALS_MATERIAL_DUMMY_PROPERTY
};
gboolean soy_materials_material_enable (soymaterialsMaterial* self, gint pass, GLfloat* mv, int mv_length1, GLfloat* v, int v_length1, GLfloat* p, int p_length1, soybodiesLight** lights, int lights_length1, GLfloat* scene_ambient, int scene_ambient_length1);
static gboolean soy_materials_material_real_enable (soymaterialsMaterial* self, gint pass, GLfloat* mv, int mv_length1, GLfloat* v, int v_length1, GLfloat* p, int p_length1, soybodiesLight** lights, int lights_length1, GLfloat* scene_ambient, int scene_ambient_length1);
GType soy_atoms_color_get_type (void) G_GNUC_CONST;
soyatomsColor* soy_bodies_light_get_diffuse (soybodiesLight* self);
gfloat* soy_atoms_color_get4f (soyatomsColor* self, int* result_length1);
soyatomsColor* soy_bodies_light_get_specular (soybodiesLight* self);
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
soyatomsPosition* soy_bodies_body_get_position (soybodiesBody* self);
gfloat soy_atoms_position_get_x (soyatomsPosition* self);
gfloat soy_atoms_position_get_y (soyatomsPosition* self);
gfloat soy_atoms_position_get_z (soyatomsPosition* self);
void soy_materials_material_disable (soymaterialsMaterial* self);
static void soy_materials_material_real_disable (soymaterialsMaterial* self);
soymaterialsMaterial* soy_materials_material_new (void);
soymaterialsMaterial* soy_materials_material_construct (GType object_type);
static GObject * soy_materials_material_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void soy_materials_material_finalize (GObject* obj);


static guint8* string_get_data (const gchar* self, int* result_length1) {
	guint8* result;
	guint8* res = NULL;
	gint res_length1 = 0;
	gint _res_size_ = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	guint8* _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	guint8* _tmp4_ = NULL;
	gint _tmp4__length1 = 0;
#line 1259 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1260 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	res = (guint8*) self;
#line 1260 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	res_length1 = -1;
#line 1260 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1261 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1261 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1261 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1261 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp2_ = res_length1;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp3_ = res;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp3__length1 = res_length1;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	_tmp4__length1 = _tmp3__length1;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
		*result_length1 = _tmp4__length1;
#line 176 "Material.c"
	}
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 1262 "/usr/share/vala-0.22/vapi/glib-2.0.vapi"
	return result;
#line 182 "Material.c"
}


static gboolean soy_materials_material_real_enable (soymaterialsMaterial* self, gint pass, GLfloat* mv, int mv_length1, GLfloat* v, int v_length1, GLfloat* p, int p_length1, soybodiesLight** lights, int lights_length1, GLfloat* scene_ambient, int scene_ambient_length1) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gint _tmp1_ = 0;
	soybodiesLight** _tmp2_ = NULL;
	gint _tmp2__length1 = 0;
	gboolean _tmp4_ = FALSE;
	GLuint _tmp5_ = 0U;
	GLuint _tmp49_ = 0U;
	GLint mv_loc = 0;
	GLuint _tmp50_ = 0U;
	gint _tmp51_ = 0;
	GLint _tmp52_ = 0;
	GLfloat* _tmp53_ = NULL;
	gint _tmp53__length1 = 0;
	GLint p_loc = 0;
	GLuint _tmp54_ = 0U;
	gint _tmp55_ = 0;
	GLint _tmp56_ = 0;
	GLfloat* _tmp57_ = NULL;
	gint _tmp57__length1 = 0;
	GLint sa_loc = 0;
	GLuint _tmp58_ = 0U;
	gint _tmp59_ = 0;
	gint _tmp60_ = 0;
	GLint ld_loc = 0;
	GLuint _tmp64_ = 0U;
	gint _tmp65_ = 0;
	GLint ls_loc = 0;
	GLuint _tmp66_ = 0U;
	gint _tmp67_ = 0;
	GLint lp_loc = 0;
	GLuint _tmp68_ = 0U;
	gint _tmp69_ = 0;
	GLint ln_loc = 0;
	GLuint _tmp70_ = 0U;
	gint _tmp71_ = 0;
	GLfloat* lights_diffuse = NULL;
	GLfloat* _tmp72_ = NULL;
	gint lights_diffuse_length1 = 0;
	gint _lights_diffuse_size_ = 0;
	GLfloat* lights_specular = NULL;
	GLfloat* _tmp73_ = NULL;
	gint lights_specular_length1 = 0;
	gint _lights_specular_size_ = 0;
	GLfloat* lights_pos = NULL;
	GLfloat* _tmp74_ = NULL;
	gint lights_pos_length1 = 0;
	gint _lights_pos_size_ = 0;
	gint light_num = 0;
	GLint _tmp226_ = 0;
	GLfloat* _tmp227_ = NULL;
	gint _tmp227__length1 = 0;
	GLint _tmp228_ = 0;
	GLfloat* _tmp229_ = NULL;
	gint _tmp229__length1 = 0;
	GLint _tmp230_ = 0;
	GLfloat* _tmp231_ = NULL;
	gint _tmp231__length1 = 0;
	GLint _tmp232_ = 0;
	gint _tmp233_ = 0;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp1_ = pass;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp2_ = lights;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp2__length1 = lights_length1;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	if ((_tmp1_ * 8) >= _tmp2__length1) {
#line 255 "Material.c"
		gint _tmp3_ = 0;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp3_ = pass;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp0_ = _tmp3_ != 0;
#line 261 "Material.c"
	} else {
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp0_ = FALSE;
#line 265 "Material.c"
	}
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp4_ = _tmp0_;
#line 43 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	if (_tmp4_) {
#line 44 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		result = FALSE;
#line 44 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		return result;
#line 275 "Material.c"
	}
#line 46 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp5_ = soy_materials_material__program;
#line 46 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	if (_tmp5_ == ((GLuint) 0)) {
#line 281 "Material.c"
		GLint status = 0;
		GLchar** vertex_shader = NULL;
		const gchar* _tmp6_ = NULL;
		guint8* _tmp7_ = NULL;
		gint _tmp7__length1 = 0;
		guint8* _tmp8_ = NULL;
		gint _tmp8__length1 = 0;
		GLchar** _tmp9_ = NULL;
		gint vertex_shader_length1 = 0;
		gint _vertex_shader_size_ = 0;
		GLchar** fragment_shader = NULL;
		const gchar* _tmp10_ = NULL;
		guint8* _tmp11_ = NULL;
		gint _tmp11__length1 = 0;
		guint8* _tmp12_ = NULL;
		gint _tmp12__length1 = 0;
		GLchar** _tmp13_ = NULL;
		gint fragment_shader_length1 = 0;
		gint _fragment_shader_size_ = 0;
		GLuint _tmp14_ = 0U;
		GLuint _tmp15_ = 0U;
		GLchar** _tmp16_ = NULL;
		gint _tmp16__length1 = 0;
		GLint* _tmp17_ = NULL;
		GLint* _tmp18_ = NULL;
		gint _tmp18__length1 = 0;
		GLuint _tmp19_ = 0U;
		GLuint _tmp20_ = 0U;
		GLint _tmp21_ = 0;
		GLint _tmp22_ = 0;
		GLuint _tmp23_ = 0U;
		GLuint _tmp24_ = 0U;
		GLchar** _tmp25_ = NULL;
		gint _tmp25__length1 = 0;
		GLint* _tmp26_ = NULL;
		GLint* _tmp27_ = NULL;
		gint _tmp27__length1 = 0;
		GLuint _tmp28_ = 0U;
		GLuint _tmp29_ = 0U;
		GLint _tmp30_ = 0;
		GLint _tmp31_ = 0;
		GLuint _tmp32_ = 0U;
		GLuint _tmp33_ = 0U;
		GLuint _tmp34_ = 0U;
		GLuint _tmp35_ = 0U;
		GLuint _tmp36_ = 0U;
		GLuint _tmp37_ = 0U;
		GLuint _tmp38_ = 0U;
		GLuint _tmp39_ = 0U;
		GLuint _tmp40_ = 0U;
		GLint _tmp41_ = 0;
		GLint _tmp42_ = 0;
		GLuint _tmp43_ = 0U;
		GLuint _tmp44_ = 0U;
		GLuint _tmp45_ = 0U;
		GLuint _tmp46_ = 0U;
		GLuint _tmp47_ = 0U;
		GLuint _tmp48_ = 0U;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp6_ = soy_materials_material_basic_glslv;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp7_ = string_get_data (_tmp6_, &_tmp7__length1);
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp8_ = _tmp7_;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp8__length1 = _tmp7__length1;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp9_ = g_new0 (GLchar*, 1);
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp9_[0] = _tmp8_;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		vertex_shader = _tmp9_;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		vertex_shader_length1 = 1;
#line 48 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_vertex_shader_size_ = vertex_shader_length1;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp10_ = soy_materials_material_basic_glslf;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp11_ = string_get_data (_tmp10_, &_tmp11__length1);
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp12_ = _tmp11_;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp12__length1 = _tmp11__length1;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp13_ = g_new0 (GLchar*, 1);
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp13_[0] = _tmp12_;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		fragment_shader = _tmp13_;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		fragment_shader_length1 = 1;
#line 49 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_fragment_shader_size_ = fragment_shader_length1;
#line 51 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp14_ = glCreateShader (GL_VERTEX_SHADER);
#line 51 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		soy_materials_material__vertex_shader = _tmp14_;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp15_ = soy_materials_material__vertex_shader;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp16_ = vertex_shader;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp16__length1 = vertex_shader_length1;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp17_ = g_new0 (GLint, 1);
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp17_[0] = (GLint) (-1);
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp18_ = _tmp17_;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp18__length1 = 1;
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glShaderSource (_tmp15_, (GLsizei) 1, (const GLchar * const*) _tmp16_, _tmp18_);
#line 52 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp18_ = (g_free (_tmp18_), NULL);
#line 53 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp19_ = soy_materials_material__vertex_shader;
#line 53 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glCompileShader (_tmp19_);
#line 56 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp20_ = soy_materials_material__vertex_shader;
#line 56 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glGetShaderiv (_tmp20_, GL_COMPILE_STATUS, &_tmp21_);
#line 56 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		status = _tmp21_;
#line 57 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp22_ = status;
#line 57 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_vala_assert (_tmp22_ != ((GLint) GL_FALSE), "status is not (GLint) GL_FALSE");
#line 60 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp23_ = glCreateShader (GL_FRAGMENT_SHADER);
#line 60 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		soy_materials_material__fragment_shader = _tmp23_;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp24_ = soy_materials_material__fragment_shader;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp25_ = fragment_shader;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp25__length1 = fragment_shader_length1;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp26_ = g_new0 (GLint, 1);
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp26_[0] = (GLint) (-1);
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp27_ = _tmp26_;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp27__length1 = 1;
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glShaderSource (_tmp24_, (GLsizei) 1, (const GLchar * const*) _tmp25_, _tmp27_);
#line 61 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp27_ = (g_free (_tmp27_), NULL);
#line 62 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp28_ = soy_materials_material__fragment_shader;
#line 62 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glCompileShader (_tmp28_);
#line 65 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp29_ = soy_materials_material__fragment_shader;
#line 65 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glGetShaderiv (_tmp29_, GL_COMPILE_STATUS, &_tmp30_);
#line 65 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		status = _tmp30_;
#line 66 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp31_ = status;
#line 66 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_vala_assert (_tmp31_ != ((GLint) GL_FALSE), "status is not (GLint) GL_FALSE");
#line 69 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp32_ = glCreateProgram ();
#line 69 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		soy_materials_material__program = _tmp32_;
#line 70 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp33_ = soy_materials_material__program;
#line 70 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp34_ = soy_materials_material__vertex_shader;
#line 70 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glAttachShader (_tmp33_, _tmp34_);
#line 71 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp35_ = soy_materials_material__program;
#line 71 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp36_ = soy_materials_material__fragment_shader;
#line 71 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glAttachShader (_tmp35_, _tmp36_);
#line 72 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp37_ = soy_materials_material__program;
#line 72 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glBindAttribLocation (_tmp37_, (GLuint) 0, "vertex");
#line 73 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp38_ = soy_materials_material__program;
#line 73 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glBindAttribLocation (_tmp38_, (GLuint) 1, "normal");
#line 74 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp39_ = soy_materials_material__program;
#line 74 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glLinkProgram (_tmp39_);
#line 77 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp40_ = soy_materials_material__program;
#line 77 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glGetProgramiv (_tmp40_, GL_LINK_STATUS, &_tmp41_);
#line 77 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		status = _tmp41_;
#line 78 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp42_ = status;
#line 78 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_vala_assert (_tmp42_ != ((GLint) GL_FALSE), "status is not (GLint) GL_FALSE");
#line 81 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp43_ = soy_materials_material__program;
#line 81 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp44_ = soy_materials_material__vertex_shader;
#line 81 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glDetachShader (_tmp43_, _tmp44_);
#line 82 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp45_ = soy_materials_material__vertex_shader;
#line 82 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glDeleteShader (_tmp45_);
#line 83 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp46_ = soy_materials_material__program;
#line 83 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp47_ = soy_materials_material__fragment_shader;
#line 83 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glDetachShader (_tmp46_, _tmp47_);
#line 84 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp48_ = soy_materials_material__fragment_shader;
#line 84 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glDeleteShader (_tmp48_);
#line 46 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		fragment_shader = (g_free (fragment_shader), NULL);
#line 46 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		vertex_shader = (g_free (vertex_shader), NULL);
#line 510 "Material.c"
	}
#line 85 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp49_ = soy_materials_material__program;
#line 85 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUseProgram (_tmp49_);
#line 86 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp50_ = soy_materials_material__program;
#line 86 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp51_ = glGetUniformLocation (_tmp50_, "mv_matrix");
#line 86 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	mv_loc = (GLint) _tmp51_;
#line 87 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp52_ = mv_loc;
#line 87 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp53_ = mv;
#line 87 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp53__length1 = mv_length1;
#line 87 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniformMatrix4fv (_tmp52_, (GLsizei) 1, GL_FALSE, _tmp53_);
#line 88 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp54_ = soy_materials_material__program;
#line 88 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp55_ = glGetUniformLocation (_tmp54_, "p_matrix");
#line 88 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	p_loc = (GLint) _tmp55_;
#line 89 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp56_ = p_loc;
#line 89 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp57_ = p;
#line 89 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp57__length1 = p_length1;
#line 89 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniformMatrix4fv (_tmp56_, (GLsizei) 1, GL_FALSE, _tmp57_);
#line 90 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp58_ = soy_materials_material__program;
#line 90 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp59_ = glGetUniformLocation (_tmp58_, "scene_ambient");
#line 90 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	sa_loc = (GLint) _tmp59_;
#line 91 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glEnable (GL_BLEND);
#line 92 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp60_ = pass;
#line 92 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	if (_tmp60_ == 0) {
#line 556 "Material.c"
		GLint _tmp61_ = 0;
		GLfloat* _tmp62_ = NULL;
		gint _tmp62__length1 = 0;
#line 93 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp61_ = sa_loc;
#line 93 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp62_ = scene_ambient;
#line 93 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp62__length1 = scene_ambient_length1;
#line 93 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glUniform4fv (_tmp61_, (GLsizei) 1, _tmp62_);
#line 94 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
#line 570 "Material.c"
	} else {
		GLint _tmp63_ = 0;
#line 96 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		_tmp63_ = sa_loc;
#line 96 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glUniform4f (_tmp63_, (GLfloat) 0.0f, (GLfloat) 0.0f, (GLfloat) 0.0f, (GLfloat) 0.0f);
#line 97 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		glBlendFunc (GL_ONE, GL_ONE);
#line 579 "Material.c"
	}
#line 98 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp64_ = soy_materials_material__program;
#line 98 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp65_ = glGetUniformLocation (_tmp64_, "light_diffuse");
#line 98 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	ld_loc = (GLint) _tmp65_;
#line 99 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp66_ = soy_materials_material__program;
#line 99 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp67_ = glGetUniformLocation (_tmp66_, "light_specular");
#line 99 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	ls_loc = (GLint) _tmp67_;
#line 100 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp68_ = soy_materials_material__program;
#line 100 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp69_ = glGetUniformLocation (_tmp68_, "light_pos");
#line 100 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lp_loc = (GLint) _tmp69_;
#line 101 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp70_ = soy_materials_material__program;
#line 101 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp71_ = glGetUniformLocation (_tmp70_, "light_num");
#line 101 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	ln_loc = (GLint) _tmp71_;
#line 102 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp72_ = g_new0 (GLfloat, 32);
#line 102 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_diffuse = _tmp72_;
#line 102 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_diffuse_length1 = 32;
#line 102 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_lights_diffuse_size_ = lights_diffuse_length1;
#line 103 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp73_ = g_new0 (GLfloat, 32);
#line 103 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_specular = _tmp73_;
#line 103 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_specular_length1 = 32;
#line 103 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_lights_specular_size_ = lights_specular_length1;
#line 104 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp74_ = g_new0 (GLfloat, 24);
#line 104 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_pos = _tmp74_;
#line 104 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_pos_length1 = 24;
#line 104 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_lights_pos_size_ = lights_pos_length1;
#line 105 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	light_num = 8;
#line 631 "Material.c"
	{
		gint i = 0;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
		i = 0;
#line 636 "Material.c"
		{
			gboolean _tmp75_ = FALSE;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
			_tmp75_ = TRUE;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
			while (TRUE) {
#line 643 "Material.c"
				gboolean _tmp76_ = FALSE;
				gint _tmp78_ = 0;
				soybodiesLight** _tmp79_ = NULL;
				gint _tmp79__length1 = 0;
				soybodiesLight* light = NULL;
				soybodiesLight** _tmp81_ = NULL;
				gint _tmp81__length1 = 0;
				gint _tmp82_ = 0;
				gint _tmp83_ = 0;
				soybodiesLight* _tmp84_ = NULL;
				GLfloat* diffuse = NULL;
				soybodiesLight* _tmp85_ = NULL;
				soyatomsColor* _tmp86_ = NULL;
				soyatomsColor* _tmp87_ = NULL;
				soyatomsColor* _tmp88_ = NULL;
				gint _tmp89_ = 0;
				gfloat* _tmp90_ = NULL;
				GLfloat* _tmp91_ = NULL;
				gint _tmp91__length1 = 0;
				gint diffuse_length1 = 0;
				gint _diffuse_size_ = 0;
				GLfloat* specular = NULL;
				soybodiesLight* _tmp92_ = NULL;
				soyatomsColor* _tmp93_ = NULL;
				soyatomsColor* _tmp94_ = NULL;
				soyatomsColor* _tmp95_ = NULL;
				gint _tmp96_ = 0;
				gfloat* _tmp97_ = NULL;
				GLfloat* _tmp98_ = NULL;
				gint _tmp98__length1 = 0;
				gint specular_length1 = 0;
				gint _specular_size_ = 0;
				GLfloat* _tmp99_ = NULL;
				gint _tmp99__length1 = 0;
				gint _tmp100_ = 0;
				GLfloat* _tmp101_ = NULL;
				gint _tmp101__length1 = 0;
				GLfloat _tmp102_ = 0.0F;
				GLfloat _tmp103_ = 0.0F;
				GLfloat* _tmp104_ = NULL;
				gint _tmp104__length1 = 0;
				gint _tmp105_ = 0;
				GLfloat* _tmp106_ = NULL;
				gint _tmp106__length1 = 0;
				GLfloat _tmp107_ = 0.0F;
				GLfloat _tmp108_ = 0.0F;
				GLfloat* _tmp109_ = NULL;
				gint _tmp109__length1 = 0;
				gint _tmp110_ = 0;
				GLfloat* _tmp111_ = NULL;
				gint _tmp111__length1 = 0;
				GLfloat _tmp112_ = 0.0F;
				GLfloat _tmp113_ = 0.0F;
				GLfloat* _tmp114_ = NULL;
				gint _tmp114__length1 = 0;
				gint _tmp115_ = 0;
				GLfloat* _tmp116_ = NULL;
				gint _tmp116__length1 = 0;
				GLfloat _tmp117_ = 0.0F;
				GLfloat _tmp118_ = 0.0F;
				GLfloat* _tmp119_ = NULL;
				gint _tmp119__length1 = 0;
				gint _tmp120_ = 0;
				GLfloat* _tmp121_ = NULL;
				gint _tmp121__length1 = 0;
				GLfloat _tmp122_ = 0.0F;
				GLfloat _tmp123_ = 0.0F;
				GLfloat* _tmp124_ = NULL;
				gint _tmp124__length1 = 0;
				gint _tmp125_ = 0;
				GLfloat* _tmp126_ = NULL;
				gint _tmp126__length1 = 0;
				GLfloat _tmp127_ = 0.0F;
				GLfloat _tmp128_ = 0.0F;
				GLfloat* _tmp129_ = NULL;
				gint _tmp129__length1 = 0;
				gint _tmp130_ = 0;
				GLfloat* _tmp131_ = NULL;
				gint _tmp131__length1 = 0;
				GLfloat _tmp132_ = 0.0F;
				GLfloat _tmp133_ = 0.0F;
				GLfloat* _tmp134_ = NULL;
				gint _tmp134__length1 = 0;
				gint _tmp135_ = 0;
				GLfloat* _tmp136_ = NULL;
				gint _tmp136__length1 = 0;
				GLfloat _tmp137_ = 0.0F;
				GLfloat _tmp138_ = 0.0F;
				GLfloat* _tmp139_ = NULL;
				gint _tmp139__length1 = 0;
				gint _tmp140_ = 0;
				soybodiesLight* _tmp141_ = NULL;
				soyatomsPosition* _tmp142_ = NULL;
				soyatomsPosition* _tmp143_ = NULL;
				soyatomsPosition* _tmp144_ = NULL;
				gfloat _tmp145_ = 0.0F;
				gfloat _tmp146_ = 0.0F;
				GLfloat* _tmp147_ = NULL;
				gint _tmp147__length1 = 0;
				GLfloat _tmp148_ = 0.0F;
				soybodiesLight* _tmp149_ = NULL;
				soyatomsPosition* _tmp150_ = NULL;
				soyatomsPosition* _tmp151_ = NULL;
				soyatomsPosition* _tmp152_ = NULL;
				gfloat _tmp153_ = 0.0F;
				gfloat _tmp154_ = 0.0F;
				GLfloat* _tmp155_ = NULL;
				gint _tmp155__length1 = 0;
				GLfloat _tmp156_ = 0.0F;
				soybodiesLight* _tmp157_ = NULL;
				soyatomsPosition* _tmp158_ = NULL;
				soyatomsPosition* _tmp159_ = NULL;
				soyatomsPosition* _tmp160_ = NULL;
				gfloat _tmp161_ = 0.0F;
				gfloat _tmp162_ = 0.0F;
				GLfloat* _tmp163_ = NULL;
				gint _tmp163__length1 = 0;
				GLfloat _tmp164_ = 0.0F;
				GLfloat* _tmp165_ = NULL;
				gint _tmp165__length1 = 0;
				GLfloat _tmp166_ = 0.0F;
				GLfloat _tmp167_ = 0.0F;
				GLfloat* _tmp168_ = NULL;
				gint _tmp168__length1 = 0;
				gint _tmp169_ = 0;
				soybodiesLight* _tmp170_ = NULL;
				soyatomsPosition* _tmp171_ = NULL;
				soyatomsPosition* _tmp172_ = NULL;
				soyatomsPosition* _tmp173_ = NULL;
				gfloat _tmp174_ = 0.0F;
				gfloat _tmp175_ = 0.0F;
				GLfloat* _tmp176_ = NULL;
				gint _tmp176__length1 = 0;
				GLfloat _tmp177_ = 0.0F;
				soybodiesLight* _tmp178_ = NULL;
				soyatomsPosition* _tmp179_ = NULL;
				soyatomsPosition* _tmp180_ = NULL;
				soyatomsPosition* _tmp181_ = NULL;
				gfloat _tmp182_ = 0.0F;
				gfloat _tmp183_ = 0.0F;
				GLfloat* _tmp184_ = NULL;
				gint _tmp184__length1 = 0;
				GLfloat _tmp185_ = 0.0F;
				soybodiesLight* _tmp186_ = NULL;
				soyatomsPosition* _tmp187_ = NULL;
				soyatomsPosition* _tmp188_ = NULL;
				soyatomsPosition* _tmp189_ = NULL;
				gfloat _tmp190_ = 0.0F;
				gfloat _tmp191_ = 0.0F;
				GLfloat* _tmp192_ = NULL;
				gint _tmp192__length1 = 0;
				GLfloat _tmp193_ = 0.0F;
				GLfloat* _tmp194_ = NULL;
				gint _tmp194__length1 = 0;
				GLfloat _tmp195_ = 0.0F;
				GLfloat _tmp196_ = 0.0F;
				GLfloat* _tmp197_ = NULL;
				gint _tmp197__length1 = 0;
				gint _tmp198_ = 0;
				soybodiesLight* _tmp199_ = NULL;
				soyatomsPosition* _tmp200_ = NULL;
				soyatomsPosition* _tmp201_ = NULL;
				soyatomsPosition* _tmp202_ = NULL;
				gfloat _tmp203_ = 0.0F;
				gfloat _tmp204_ = 0.0F;
				GLfloat* _tmp205_ = NULL;
				gint _tmp205__length1 = 0;
				GLfloat _tmp206_ = 0.0F;
				soybodiesLight* _tmp207_ = NULL;
				soyatomsPosition* _tmp208_ = NULL;
				soyatomsPosition* _tmp209_ = NULL;
				soyatomsPosition* _tmp210_ = NULL;
				gfloat _tmp211_ = 0.0F;
				gfloat _tmp212_ = 0.0F;
				GLfloat* _tmp213_ = NULL;
				gint _tmp213__length1 = 0;
				GLfloat _tmp214_ = 0.0F;
				soybodiesLight* _tmp215_ = NULL;
				soyatomsPosition* _tmp216_ = NULL;
				soyatomsPosition* _tmp217_ = NULL;
				soyatomsPosition* _tmp218_ = NULL;
				gfloat _tmp219_ = 0.0F;
				gfloat _tmp220_ = 0.0F;
				GLfloat* _tmp221_ = NULL;
				gint _tmp221__length1 = 0;
				GLfloat _tmp222_ = 0.0F;
				GLfloat* _tmp223_ = NULL;
				gint _tmp223__length1 = 0;
				GLfloat _tmp224_ = 0.0F;
				GLfloat _tmp225_ = 0.0F;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp76_ = _tmp75_;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				if (!_tmp76_) {
#line 838 "Material.c"
					gint _tmp77_ = 0;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					_tmp77_ = i;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					i = _tmp77_ + 1;
#line 844 "Material.c"
				}
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp75_ = FALSE;
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				if (!(i <= 7)) {
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					break;
#line 852 "Material.c"
				}
#line 107 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp78_ = i;
#line 107 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp79_ = lights;
#line 107 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp79__length1 = lights_length1;
#line 107 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				if (_tmp78_ >= _tmp79__length1) {
#line 862 "Material.c"
					gint _tmp80_ = 0;
#line 108 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					_tmp80_ = i;
#line 108 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					light_num = _tmp80_;
#line 109 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
					break;
#line 870 "Material.c"
				}
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp81_ = lights;
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp81__length1 = lights_length1;
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp82_ = pass;
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp83_ = i;
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp84_ = _tmp81_[(_tmp82_ * 8) + _tmp83_];
#line 110 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				light = _tmp84_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp85_ = light;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp86_ = soy_bodies_light_get_diffuse (_tmp85_);
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp87_ = _tmp86_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp88_ = _tmp87_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp90_ = soy_atoms_color_get4f (_tmp88_, &_tmp89_);
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp91_ = _tmp90_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp91__length1 = _tmp89_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp88_);
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				diffuse = _tmp91_;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				diffuse_length1 = _tmp91__length1;
#line 111 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_diffuse_size_ = diffuse_length1;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp92_ = light;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp93_ = soy_bodies_light_get_specular (_tmp92_);
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp94_ = _tmp93_;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp95_ = _tmp94_;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp97_ = soy_atoms_color_get4f (_tmp95_, &_tmp96_);
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp98_ = _tmp97_;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp98__length1 = _tmp96_;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp95_);
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				specular = _tmp98_;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				specular_length1 = _tmp98__length1;
#line 112 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_specular_size_ = specular_length1;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp99_ = lights_diffuse;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp99__length1 = lights_diffuse_length1;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp100_ = i;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp101_ = diffuse;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp101__length1 = diffuse_length1;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp102_ = _tmp101_[0];
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp99_[_tmp100_ * 4] = _tmp102_;
#line 113 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp103_ = _tmp99_[_tmp100_ * 4];
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp104_ = lights_diffuse;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp104__length1 = lights_diffuse_length1;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp105_ = i;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp106_ = diffuse;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp106__length1 = diffuse_length1;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp107_ = _tmp106_[1];
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp104_[(_tmp105_ * 4) + 1] = _tmp107_;
#line 114 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp108_ = _tmp104_[(_tmp105_ * 4) + 1];
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp109_ = lights_diffuse;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp109__length1 = lights_diffuse_length1;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp110_ = i;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp111_ = diffuse;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp111__length1 = diffuse_length1;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp112_ = _tmp111_[2];
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp109_[(_tmp110_ * 4) + 2] = _tmp112_;
#line 115 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp113_ = _tmp109_[(_tmp110_ * 4) + 2];
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp114_ = lights_diffuse;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp114__length1 = lights_diffuse_length1;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp115_ = i;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp116_ = diffuse;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp116__length1 = diffuse_length1;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp117_ = _tmp116_[3];
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp114_[(_tmp115_ * 4) + 3] = _tmp117_;
#line 116 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp118_ = _tmp114_[(_tmp115_ * 4) + 3];
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp119_ = lights_specular;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp119__length1 = lights_specular_length1;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp120_ = i;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp121_ = specular;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp121__length1 = specular_length1;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp122_ = _tmp121_[0];
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp119_[_tmp120_ * 4] = _tmp122_;
#line 117 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp123_ = _tmp119_[_tmp120_ * 4];
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp124_ = lights_specular;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp124__length1 = lights_specular_length1;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp125_ = i;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp126_ = specular;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp126__length1 = specular_length1;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp127_ = _tmp126_[1];
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp124_[(_tmp125_ * 4) + 1] = _tmp127_;
#line 118 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp128_ = _tmp124_[(_tmp125_ * 4) + 1];
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp129_ = lights_specular;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp129__length1 = lights_specular_length1;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp130_ = i;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp131_ = specular;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp131__length1 = specular_length1;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp132_ = _tmp131_[2];
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp129_[(_tmp130_ * 4) + 2] = _tmp132_;
#line 119 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp133_ = _tmp129_[(_tmp130_ * 4) + 2];
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp134_ = lights_specular;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp134__length1 = lights_specular_length1;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp135_ = i;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp136_ = specular;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp136__length1 = specular_length1;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp137_ = _tmp136_[3];
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp134_[(_tmp135_ * 4) + 3] = _tmp137_;
#line 120 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp138_ = _tmp134_[(_tmp135_ * 4) + 3];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp139_ = lights_pos;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp139__length1 = lights_pos_length1;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp140_ = i;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp141_ = light;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp142_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp141_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp143_ = _tmp142_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp144_ = _tmp143_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp145_ = soy_atoms_position_get_x (_tmp144_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp146_ = _tmp145_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp147_ = v;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp147__length1 = v_length1;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp148_ = _tmp147_[0];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp149_ = light;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp150_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp149_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp151_ = _tmp150_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp152_ = _tmp151_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp153_ = soy_atoms_position_get_y (_tmp152_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp154_ = _tmp153_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp155_ = v;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp155__length1 = v_length1;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp156_ = _tmp155_[4];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp157_ = light;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp158_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp157_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp159_ = _tmp158_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp160_ = _tmp159_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp161_ = soy_atoms_position_get_z (_tmp160_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp162_ = _tmp161_;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp163_ = v;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp163__length1 = v_length1;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp164_ = _tmp163_[8];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp165_ = v;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp165__length1 = v_length1;
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp166_ = _tmp165_[12];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp139_[_tmp140_ * 3] = (GLfloat) ((((_tmp146_ * _tmp148_) + (_tmp154_ * _tmp156_)) + (_tmp162_ * _tmp164_)) + _tmp166_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp167_ = _tmp139_[_tmp140_ * 3];
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp160_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp152_);
#line 121 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp144_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp168_ = lights_pos;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp168__length1 = lights_pos_length1;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp169_ = i;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp170_ = light;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp171_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp170_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp172_ = _tmp171_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp173_ = _tmp172_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp174_ = soy_atoms_position_get_x (_tmp173_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp175_ = _tmp174_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp176_ = v;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp176__length1 = v_length1;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp177_ = _tmp176_[1];
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp178_ = light;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp179_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp178_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp180_ = _tmp179_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp181_ = _tmp180_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp182_ = soy_atoms_position_get_y (_tmp181_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp183_ = _tmp182_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp184_ = v;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp184__length1 = v_length1;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp185_ = _tmp184_[5];
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp186_ = light;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp187_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp186_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp188_ = _tmp187_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp189_ = _tmp188_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp190_ = soy_atoms_position_get_z (_tmp189_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp191_ = _tmp190_;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp192_ = v;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp192__length1 = v_length1;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp193_ = _tmp192_[9];
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp194_ = v;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp194__length1 = v_length1;
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp195_ = _tmp194_[13];
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp168_[(_tmp169_ * 3) + 1] = (GLfloat) ((((_tmp175_ * _tmp177_) + (_tmp183_ * _tmp185_)) + (_tmp191_ * _tmp193_)) + _tmp195_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp196_ = _tmp168_[(_tmp169_ * 3) + 1];
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp189_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp181_);
#line 123 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp173_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp197_ = lights_pos;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp197__length1 = lights_pos_length1;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp198_ = i;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp199_ = light;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp200_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp199_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp201_ = _tmp200_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp202_ = _tmp201_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp203_ = soy_atoms_position_get_x (_tmp202_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp204_ = _tmp203_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp205_ = v;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp205__length1 = v_length1;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp206_ = _tmp205_[2];
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp207_ = light;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp208_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp207_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp209_ = _tmp208_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp210_ = _tmp209_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp211_ = soy_atoms_position_get_y (_tmp210_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp212_ = _tmp211_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp213_ = v;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp213__length1 = v_length1;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp214_ = _tmp213_[6];
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp215_ = light;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp216_ = soy_bodies_body_get_position ((soybodiesBody*) _tmp215_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp217_ = _tmp216_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp218_ = _tmp217_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp219_ = soy_atoms_position_get_z (_tmp218_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp220_ = _tmp219_;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp221_ = v;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp221__length1 = v_length1;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp222_ = _tmp221_[10];
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp223_ = v;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp223__length1 = v_length1;
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp224_ = _tmp223_[14];
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp197_[(_tmp198_ * 3) + 2] = (GLfloat) ((((_tmp204_ * _tmp206_) + (_tmp212_ * _tmp214_)) + (_tmp220_ * _tmp222_)) + _tmp224_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_tmp225_ = _tmp197_[(_tmp198_ * 3) + 2];
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp218_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp210_);
#line 125 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				_g_object_unref0 (_tmp202_);
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				specular = (g_free (specular), NULL);
#line 106 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
				diffuse = (g_free (diffuse), NULL);
#line 1288 "Material.c"
			}
		}
	}
#line 127 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp226_ = ld_loc;
#line 127 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp227_ = lights_diffuse;
#line 127 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp227__length1 = lights_diffuse_length1;
#line 127 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniform4fv (_tmp226_, (GLsizei) 8, _tmp227_);
#line 128 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp228_ = ls_loc;
#line 128 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp229_ = lights_specular;
#line 128 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp229__length1 = lights_specular_length1;
#line 128 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniform4fv (_tmp228_, (GLsizei) 8, _tmp229_);
#line 129 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp230_ = lp_loc;
#line 129 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp231_ = lights_pos;
#line 129 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp231__length1 = lights_pos_length1;
#line 129 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniform3fv (_tmp230_, (GLsizei) 8, _tmp231_);
#line 130 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp232_ = ln_loc;
#line 130 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	_tmp233_ = light_num;
#line 130 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glUniform1i (_tmp232_, (GLint) _tmp233_);
#line 132 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	result = TRUE;
#line 132 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_pos = (g_free (lights_pos), NULL);
#line 132 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_specular = (g_free (lights_specular), NULL);
#line 132 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	lights_diffuse = (g_free (lights_diffuse), NULL);
#line 132 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return result;
#line 1332 "Material.c"
}


gboolean soy_materials_material_enable (soymaterialsMaterial* self, gint pass, GLfloat* mv, int mv_length1, GLfloat* v, int v_length1, GLfloat* p, int p_length1, soybodiesLight** lights, int lights_length1, GLfloat* scene_ambient, int scene_ambient_length1) {
#line 39 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	g_return_val_if_fail (self != NULL, FALSE);
#line 39 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return SOY_MATERIALS_MATERIAL_GET_CLASS (self)->enable (self, pass, mv, mv_length1, v, v_length1, p, p_length1, lights, lights_length1, scene_ambient, scene_ambient_length1);
#line 1341 "Material.c"
}


static void soy_materials_material_real_disable (soymaterialsMaterial* self) {
#line 135 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	glDisable (GL_BLEND);
#line 136 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return;
#line 1350 "Material.c"
}


void soy_materials_material_disable (soymaterialsMaterial* self) {
#line 134 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	g_return_if_fail (self != NULL);
#line 134 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	SOY_MATERIALS_MATERIAL_GET_CLASS (self)->disable (self);
#line 1359 "Material.c"
}


soymaterialsMaterial* soy_materials_material_construct (GType object_type) {
	soymaterialsMaterial * self = NULL;
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	self = (soymaterialsMaterial*) g_object_new (object_type, NULL);
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return self;
#line 1369 "Material.c"
}


soymaterialsMaterial* soy_materials_material_new (void) {
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return soy_materials_material_construct (SOY_MATERIALS_TYPE_MATERIAL);
#line 1376 "Material.c"
}


static GObject * soy_materials_material_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	soymaterialsMaterial * self;
#line 35 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	parent_class = G_OBJECT_CLASS (soy_materials_material_parent_class);
#line 35 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 35 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial);
#line 36 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	self->translucent = FALSE;
#line 37 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	self->draw_mode = GL_TRIANGLES;
#line 35 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	return obj;
#line 1396 "Material.c"
}


static void soy_materials_material_class_init (soymaterialsMaterialClass * klass) {
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	soy_materials_material_parent_class = g_type_class_peek_parent (klass);
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	SOY_MATERIALS_MATERIAL_CLASS (klass)->enable = soy_materials_material_real_enable;
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	SOY_MATERIALS_MATERIAL_CLASS (klass)->disable = soy_materials_material_real_disable;
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	G_OBJECT_CLASS (klass)->constructor = soy_materials_material_constructor;
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	G_OBJECT_CLASS (klass)->finalize = soy_materials_material_finalize;
#line 1411 "Material.c"
}


static void soy_materials_material_instance_init (soymaterialsMaterial * self) {
}


static void soy_materials_material_finalize (GObject* obj) {
	soymaterialsMaterial * self;
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial);
#line 28 "/home/jeff/Documents/libraries/libsoy/src/materials/Material.gs"
	G_OBJECT_CLASS (soy_materials_material_parent_class)->finalize (obj);
#line 1425 "Material.c"
}


GType soy_materials_material_get_type (void) {
	static volatile gsize soy_materials_material_type_id__volatile = 0;
	if (g_once_init_enter (&soy_materials_material_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soymaterialsMaterialClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_materials_material_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soymaterialsMaterial), 0, (GInstanceInitFunc) soy_materials_material_instance_init, NULL };
		GType soy_materials_material_type_id;
		soy_materials_material_type_id = g_type_register_static (G_TYPE_OBJECT, "soymaterialsMaterial", &g_define_type_info, 0);
		g_once_init_leave (&soy_materials_material_type_id__volatile, soy_materials_material_type_id);
	}
	return soy_materials_material_type_id__volatile;
}



